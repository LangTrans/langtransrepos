<!DOCTYPE html>
<html>
<head>
	<title>LangTrans Repos</title>
	
	<!--Meta Tags-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta property="og:title" content="LangTrans Repos" />
	<meta property="og:locale" content="en_US" />
	<meta name="description" content="Repos for LangTrans" />
	<meta property="og:description" content="Repos for LangTrans" />
	<meta property="og:site_name" content="LangTrans Repos" />
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	<style>
    	th{color: white;}
    	.bg-info {background-color: black !important;}
	</style>
</head>
<body>
<div style="display:inline-block;float: inherit;">
	<button onclick="location.href='https://docs.google.com/forms/d/e/1FAIpQLSdGxPYTfBodiGZAveRT8L_VGjv7PbYOcEqERZ4l5NHfXgDW-w/viewform'" 
			style="background-color: black;border-radius: 10px;display:inline-block;float: left;">
		<font color="white">Submit</font>
	</button>
	<br>
</div>
<div style="padding-left:33%;display:inline-block;">
	<center><h1>LangTrans Repos</h1></center>
</div>
<table class="table table-striped">
    <tr  class="bg-info">
        <th>Author</th>
        <th>Customized Language</th>
        <th>Repo URL</th>
        <th>Description</th>
    </tr>

    <tbody id="myTable">
        
    </tbody>
</table>
</body>
<script>
	var request = new XMLHttpRequest()

// Open a new connection, using the GET request on the URL endpoint
	request.open('GET', 'https://api.sheety.co/29edc0f84d200e820cf95e0aca8b3513/langTransRepos/submits', true)

	request.onload = function () {
	  var data = JSON.parse(this.response)
	  buildTable(data["submits"])

	}

	// Send request
	request.send()

	function buildTable(data){
		var table = document.getElementById('myTable')

		for (var i = 0; i < data.length; i++){
			var row = `<tr>
							<td>${data[i].nameOfAuthor}</td>
							<td>${data[i].languageCustomized}</td>
							<td><a href="${data[i].repoUrl}">${data[i].repoUrl}</u></td>
							<td>${data[i].description}</td>
					  </tr>`
			table.innerHTML += row
		}
	}
</script>
</html>
